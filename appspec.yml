#version: 0.0
#os: linux
#
#files:
#  - source: /
#    destination: /opt/tomcat/webapps
#    overwrite: true
#file_exists_behavior: OVERWRITE
#
## permissions:
##   - object: /
##     pattern: "**"
##     owner: ec2-user
##     group: ec2-user
#
#hooks:
#  ApplicationStop:
#    - location: catalina.sh stop
#      timeout: 20
#      runas: ec2-user
#  ApplicationStart:
#    - location: catalina.sh start
#      timeout: 60
#      runas: ec2-user
#  # ValidateService:
#  #   - location: scripts/validate.sh
#  #     timeout: 120
#  #     runas: ec2-user
#
## hooks:
##   ApplicationStop:
##     - location: scripts/stop.sh
##       timeout: 20
##       runas: ec2-user
##   ApplicationStart:
##     - location: scripts/start.sh
##       timeout: 60
##       runas: ec2-user
##   ValidateService:
##     - location: scripts/validate.sh
##       timeout: 120
##       runas: ec2-user

# ver 2.0
#version: 0.0
#os: linux
#files:
#  - source: /
#    destination: /opt/tomcat/webapps
#    overwrite: true
#file_exists_behavior: OVERWRITE
#
#hooks:
#  ApplicationStop:
#    - location: stop_server.sh
#      timeout: 300
#      runas: ubuntu
#  ApplicationStart:
#    - location: start_server.sh
#      timeout: 300
#      runas: ubuntu

#ver 3.0
version: 0.0
os: linux
files:
  - source: /
    destination: /home/ubuntu/opt/tomcat/webapps
permissions:
  - object: /home/ubuntu
    pattern: "app"
    owner: ubuntu
    group: ubuntu
    type:
      - directory
  - object: /home/ubuntu/opt/tomcat/webapps
    pattern: "**"
    owner: ubuntu
    group: ubuntu
    mode: 444
    type:
      - file
#hooks:
#  ApplicationStart:
#    - location: start_server.sh
#      timeout: 300